@model Project3_FinalExam.ViewModels.HomeViewModel

@{
    ViewData["Title"] = "Faculty";
}

<div class="text-center">
    <h1 class="display-4">@ViewData["Title"]</h1>
</div>

<div id="faculty-div">

    <h1 class="title">Your Faculty</h1>
    @for (var i = 0; i < Model.Faculty.Count; i++)
    {
        <div class="row">
            <div class="col-sm-3">
                <div class="thumbnail" id=@String.Concat("myDiv:", i.ToString()) onclick="getName(id)">
                    <img src="@Model.Faculty[i].imagePath" style="height:160px;width:150px" alt="" />
                </div>
                <div class="caption">
                    <h3 style="font-size:medium">
                        @Model.Faculty[i].name
                    </h3>
                </div>
            </div>
            @{
                if (i < Model.Faculty.Count - 1)
                {
                    i++;
                }
                else
                {
                    break;
                }
            }
            <div class="col-sm-3">
                <div class="thumbnail" id=@String.Concat("myDiv:", i.ToString()) onclick="getName(id)">
                    <img src="@Model.Faculty[i].imagePath" style="height:160px;width:150px" alt="" />
                </div>
                <div class="caption">
                    <h3 style="font-size:medium">
                        @Model.Faculty[i].name
                    </h3>
                </div>
            </div>
            @{
                if (i < Model.Faculty.Count - 1)
                {
                    i++;
                }
                else
                {
                    break;
                }
            }
            <div class="col-sm-3">
                <div class="thumbnail" id=@String.Concat("myDiv:", i.ToString()) onclick="getName(id)">
                    <img src="@Model.Faculty[i].imagePath" style="height:160px;width:150px" alt="" />
                </div>
                <div class="caption">
                    <h3 style="font-size:medium">
                        @Model.Faculty[i].name
                    </h3>
                </div>
            </div>
            @{
                if (i < Model.Faculty.Count - 1)
                {
                    i++;
                }
                else
                {
                    break;
                }
            }
            <div class="col-sm-3">
                <div class="thumbnail" id=@String.Concat("myDiv:", i.ToString()) onclick="getName(id)">
                    <img src="@Model.Faculty[i].imagePath" style="height:160px;width:150px" alt="" />
                </div>
                <div class="caption">
                    <h3 style="font-size:medium">
                        @Model.Faculty[i].name
                    </h3>
                </div>
            </div>
            <div>&nbsp;</div>
            <div>&nbsp;</div>
        </div>
    }

</div>
<div id="dialog"></div>
@*Get jQuery and jQueryUI Scripts from wwwroot*@
<script src="~/jquery/jquery.js"></script>
<link rel="stylesheet" href="~/jqueryui/themes/le-frog/jquery-ui.min.css">
<script src="~/jqueryui/jquery-ui.js"></script>
<link href="~/css/site.css" rel="stylesheet" asp-append-version="true" />
<script>
    var $j = jQuery.noConflict();
    var facultyData = @Html.Raw(Json.Serialize(Model.Faculty));

    function getName(id) {
        console.log(facultyData);
        let facultyElement = (id).split(':')[1];

        var divContent = "<div><ul>";

        divContent += "<li><font color='#18ADEA'><b><u>Title:</u>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>" + facultyData[facultyElement].title + "</b></<li>"
        divContent += "<li><font color='#18ADEA'><b><u>Email:</u>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>" + facultyData[facultyElement].email + "</b></<li>"
        divContent += "<li><font color='#18ADEA'><b><u>Office:</u>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>" + facultyData[facultyElement].office + "</b></<li>";
        divContent += "<li><font color='#18ADEA'><b><u>Email:</u>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>" + facultyData[facultyElement].username + "</b></<li>"
        divContent += "<li><font color='#18ADEA'><b><u>Office:</u>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>" + facultyData[facultyElement].phone + "</b></<li>";

        divContent += "</ul></div>";

        console.log(divContent);

        let elmnt = document.getElementById(id);
        $j("#dialog").html(divContent);
        $j("#dialog").dialog({
            title: facultyData[facultyElement].name,
            width: 500,
            position: { my: "center", at: "bottom+40%", of: elmnt}
        });
        $j("#dialog").dialog("open")
    }
</script>